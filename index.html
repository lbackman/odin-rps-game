<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style src="script.js"></style>
    <title>Rock Paper Scissors</title>
</head>
<body>

<h1>Rock Paper Scissors</h1>
<!-- New html below this line -->

<div class="container">
    <div class="button-container">
        <div class="rock">
            <button id="rock">Rock</button>
        </div>
        <div class="paper">
            <button id="paper">Paper</button>
        </div>
        <div class="scissors">
            <button id="scissors">Scissors</button>
        </div>
    </div>
    <div class="result-container">

    </div>
</div>

<!-- New html above this line -->

<script>
    // Declare function computerPlay()
    function computerPlay() {

        // Declare variable that will hold computer's "choice"
        // Let the value will be a number between 1 and 3 inclusive
        const compChoice = Math.floor(Math.random()*3) + 1;

        // Use if else statement to map 1 to rock, 2 to paper, and 3 to scissors
        // Store the new string value in variable computerSelection
        if (compChoice === 1) {
            return "Rock";
        } else if (compChoice === 2) {
            return "Paper";
        } else {
            return "Scissors";
        }
    }
    // Declare function playerPlay()
    function playerPlay() {
        // Ask the player what they want to pick
        const play = prompt("Rock, paper or scissors?");
        // If player presses cancel, return null
        if (play === null) {
            return null;
        } else if (play.toLowerCase() === "rock" || play.toLowerCase() === "r") {
            return "Rock";
        } else if (play.toLowerCase() === "paper" || play.toLowerCase() === "p") {
            return "Paper";
        } else if (play.toLowerCase() === "scissors" || play.toLowerCase() === "s") {
            return "Scissors";
        } else {
            // If the player chooses anything other than what is asked for: prompt again
            console.log("That is not a valid choice, please try again");
            return "not defined";
        }

    }
    // Declare function that plays one round of the game
    function playRound(playerSelection, computerSelection) {

        // Make if else statement the iterates over the different outcomes
        if (playerSelection === computerSelection) {
            return "draw";
        } else if ((playerSelection === "Rock" && computerSelection === "Paper") || 
                   (playerSelection === "Paper" && computerSelection === "Scissors") || 
                   (playerSelection === "Scissors" && computerSelection === "Rock")) {
            return "lose";
        } else if (playerSelection === null) {
            return null;
        } else if (playerSelection === "not defined") {
            return "not defined";
        } else {
	    return "win";
	    }
    }


    // Declare function game(), which keeps track of overall points
    function game() {
        // Declare initial scores for both players
        let playerScore = 0;
        let computerScore = 0;
        let i = 0;
        // Use for loop to play best out of 5
        while (playerScore < 5 && computerScore < 5) {
            // Declare variables for selections and result inside the for loop
            const playerSelection = playerPlay();
            const computerSelection = computerPlay();
            const result = playRound(playerSelection, computerSelection);
            // Use if loop to tally the correct score
            //console.log(result);
            if (result === "draw") {
                console.log(`You both picked ${playerSelection.toLowerCase()}. That's a draw.`);
                i++;
            } else if ( result === "lose") {
                console.log(`You lose the round! ${computerSelection} beats ${playerSelection.toLowerCase()}.`);
                computerScore += 1;
                i++;
            } else if (result === null) {
                // Assign an "impossible" score in order to make it easier to cancel in the else if statement below
                playerScore = -1;
                computerScore = -1;
                break;
		// If the player enters "illegal value" decrement i so it doesn't count as a round
            } else if (result === "not defined") {
	 	        i--;
            } else {
                console.log(`You win the round! ${playerSelection} beats ${computerSelection.toLowerCase()}.`);
                playerScore += 1;
                i++;
	    }
           // only print result if the player enters approved value  
	   if (result !== "not defined") {
		console.log(`The score after round ${i} is ${playerScore} - ${computerScore}.`);
	   }
	    
        }
	// Declare the winner of the game
        if (playerScore > computerScore) {
            console.log("Congratulations! You won the game!")
        } else if (playerScore < computerScore) {
            console.log("You lost the game. Better luck next time!")
        } else if (playerScore === -1 && computerScore === -1) {
            console.log('You canceled the game. Type "game()" to start a new game.');
        } else {
            console.log("It's a tie!")
        }
    }
</script>

</body>
</html>
